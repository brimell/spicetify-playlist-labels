!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(t=>setTimeout(t,10));var o,c,s,p,u,d,t,e,i,m,f,n,y,v,a,r,l,g,h,b,x,w,S,k,P;o=Object.create,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,u=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,i=(t=(t,e)=>function(){return e||(0,t[p(t)[0]])((e={exports:{}}).exports,e),e.exports})({"external-global-plugin:react-dom"(t,e){e.exports=Spicetify.ReactDOM}}),m=(e=(t,e,i)=>{i=null!=t?o(u(t)):{};var a=!e&&t&&t.__esModule?i:c(i,"default",{value:t,enumerable:!0}),r=t,l=void 0,n=void 0;if(r&&"object"==typeof r||"function"==typeof r)for(let t of p(r))d.call(a,t)||t===l||c(a,t,{get:()=>r[t],enumerable:!(n=s(r,t))||n.enumerable});return a})(t({"external-global-plugin:react"(t,e){e.exports=Spicetify.React}})()),f=e(i()),n={},g=[],h=[],x=!(b={}),k=S=w=l=r=a=v=y=null,P=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(t=>setTimeout(t,100));const e=webpackChunkopen.push([[Symbol()],{},t=>t]);var t=Object.keys(e.m).map(t=>e(t)).filter(t=>"object"==typeof t).map(t=>{try{return Object.values(t)}catch(t){}}).flat(),t=(w=t.find(t=>{return null==(t=null==t?void 0:t.render)?void 0:t.toString().includes("invertedDark")}),await Spicetify.Platform.RootlistAPI._events._emitter.addListener("update",()=>{C().then(t=>{b=t,x=!0,E()})}),b=await C(),l=new MutationObserver(()=>{E()}),new MutationObserver(async()=>{await L()}));await L(),t.observe(document.body,{childList:!0,subtree:!0})},(async()=>{await P()})();async function C(){const a=(await Spicetify.Platform.RootlistAPI.getContents()).items.filter(t=>"playlist"===t.type);var t=await Promise.all(a.map(t=>async function(t){return(await Spicetify.Platform.PlaylistAPI.getContents(t)).items}(t.uri)));const r=await Promise.all(a.map(t=>{var t=t.images;return 0===t.length?null:(t=t[0].url,n[t]||async function(t){var e=Spicetify.GraphQL.Definitions["fetchExtractedColors"];return null==(t=null==(e=null==(t=null==(e=(await Spicetify.GraphQL.Request(e,{uris:[t]})).data)?void 0:e.extractedColors)?void 0:t[0])?void 0:e.colorRaw)?void 0:t.hex}(t))})),l=(r.forEach((t,e)=>{t&&(n[a[e].uri]=t)}),{});return t.forEach((t,i)=>{t.forEach(t=>{var e=t.uri;l[e]||(l[e]=[]),l[e].some(t=>t.uri===a[i].uri)||l[e].push({name:a[i].name,uri:a[i].uri,trackUid:t.uid,color:r[i],canEdit:a[i].canAdd&&a[i].canRemove})})}),l}function E(){var e;h=g;let i=(g=Array.from(document.querySelectorAll(".main-trackList-indexable"))).length!==h.length;for(let t=0;t<g.length;t++)g[t].isEqualNode(h[t])||(i=!0);i&&(v=y=null);const a=[null,null,null,null,"[index] 16px [first] 4fr [var1] 1fr [var2] 2fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] 4fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] minmax(120px,2fr) [var3] 2fr [last] minmax(120px,1fr)"];let r=null;document.querySelectorAll(".main-trackList-trackListHeaderRow").forEach(t=>{var e=t.querySelector(".main-trackList-rowSectionEnd"),e=parseInt(e.getAttribute("aria-colindex"));(y=y||getComputedStyle(t).gridTemplateColumns)&&a[e]&&(t.style["grid-template-columns"]=a[e],r=a[e])});for(const t of g){for(const o of t.getElementsByClassName("main-trackList-trackListRow")){n=o,l=void 0;const c=(n=Object.values(n))?(null==(l=null==(n=null==(n=null==(n=null==(n=null==(n=n[0])?void 0:n.pendingProps)?void 0:n.children[0])?void 0:n.props)?void 0:n.children)?void 0:n.props)?void 0:l.uri)||(null==(l=null==(l=null==(l=null==n?void 0:n.props)?void 0:l.children)?void 0:l.props)?void 0:l.uri)||(null==(l=null==(l=null==(l=null==(l=null==(l=null==n?void 0:n.props)?void 0:l.children)?void 0:l.props)?void 0:l.children)?void 0:l.props)?void 0:l.uri)||(null==(n=null==(l=n[0])?void 0:l.props)?void 0:n.uri):null;S===c&&Spicetify.Platform.History.location.pathname===k&&(o.click(),S=null);let t=o.querySelector(".spicetify-playlist-labels");if(x&&t&&(t.remove(),t=null),!t){var l=o.querySelector(".main-trackList-rowSectionEnd"),n=parseInt(l.getAttribute("aria-colindex"));l.setAttribute("aria-colindex",(n+1).toString()),t=document.createElement("div");const s=Spicetify.React.memo(e=>m.default.createElement(Spicetify.ReactComponent.IconComponent,{semanticColor:"textBase",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.151 17.943l-4.143-4.102-4.117 4.159-1.833-1.833 4.104-4.157-4.162-4.119 1.833-1.833 4.155 4.102 4.106-4.16 1.849 1.849-4.1 4.141 4.157 4.104-1.849 1.849z" /></svg>'},width:"1em",height:"1em",viewBox:"0 0 24 24",className:"custom-svg",onClick:t=>{t.stopPropagation(),async function(t,e){await Spicetify.Platform.PlaylistAPI.remove(t,[{uri:e,uid:""}])}(e.playlistData.uri,e.trackUri),b[e.trackUri]=b[e.trackUri].filter(t=>t.name!==e.playlistData.name),x=!0,E()}}));f.default.render(m.default.createElement("div",{className:"spicetify-playlist-labels-container"},null==(e=b[c])?void 0:e.map(e=>{var t=e.uri.match(/spotify:playlist:(.*)/)[1];return Spicetify.Platform.History.location.pathname==="/playlist/"+t?null:m.default.createElement(w,{className:"encore-dark-theme spicetify-playlist-labels-label",style:(t=e,""===Spicetify.Config.color_scheme&&t.color?{margin:0,backgroundColor:t.color}:{margin:0,backgroundColor:"var(--background-tinted-base)"}),isUsingKeyboard:!1,onClick:t=>{t.stopPropagation();t=null==(t=Spicetify.URI.fromString(e.uri))?void 0:t.toURLPath(!0);S=c,(k=t)&&Spicetify.Platform.History.push({pathname:t,search:"?uid="+e.trackUid})},size:!0,iconTrailing:e.canEdit?()=>m.default.createElement(s,{trackUri:c,playlistData:e}):null},e.name)})),t),t.setAttribute("aria-colindex",n.toString()),t.role="gridcell",t.style.display="flex",t.classList.add("main-trackList-rowSectionVariable"),t.classList.add("spicetify-playlist-labels"),o.insertBefore(t,l),v=v||getComputedStyle(o).gridTemplateColumns,a[n]&&(o.style["grid-template-columns"]=r||a[n])}}x=!1}}async function L(){a=r,(r=document.querySelector("main"))&&!r.isEqualNode(a)&&(a&&l.disconnect(),E(),l.observe(r,{childList:!0,subtree:!0}))}(async()=>{var t;document.getElementById("spicetifyDplaylistDlabels")||((t=document.createElement("style")).id="spicetifyDplaylistDlabels",t.textContent=String.raw`
  .spicetify-playlist-labels-label{font-size:12px!important;padding:3px 6px 3px 6px!important;white-space:nowrap;color:var(--spice-text)!important}.spicetify-playlist-labels-container{height:var(--row-height);align-items:center;display:flex;flex-wrap:wrap;overflow:hidden;gap:calc((var(--row-height) - 36px)/ 3);padding-top:calc((var(--row-height) - 36px)/ 3);padding-bottom:calc((var(--row-height) - 36px)/ 3)}.custom-svg{transition:fill .1s}.custom-svg:hover{fill:var(--text-negative)!important}.ChipComponent-checkbox-chip-size{margin-bottom:0!important}.ChipInnerComponent-iconTrailing-size-isUsingKeyboard{grid-gap:6px!important}
      `.trim(),document.head.appendChild(t))})()}();